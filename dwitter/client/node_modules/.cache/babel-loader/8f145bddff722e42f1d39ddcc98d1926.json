{"ast":null,"code":"export default class HttpClient {\n  constructor(baseURL, auth) {\n    this.baseURL = baseURL;\n  }\n\n  async fetch(url, options) {\n    const response = await fetch(`${this.baseURL}${url}`, { ...options,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options.headers\n      }\n    });\n    let data;\n\n    try {\n      if (options.method !== \"DELETE\") {\n        data = await response.json();\n      }\n    } catch (e) {\n      console.error(e);\n    }\n\n    if (response.status > 299 || response.status < 200) {\n      const message = data && data.message ? data.message : \"wrong\";\n      throw new Error(message);\n      const error = new Error(message);\n\n      if (response.status === 401) {\n        this.authErrorEventBus.notify(error);\n        return;\n      }\n    }\n\n    return data;\n  }\n\n}","map":{"version":3,"sources":["/Users/gim-yeongseog/Desktop/git repository/nodejs/dwitter/client/src/network/http.js"],"names":["HttpClient","constructor","baseURL","auth","fetch","url","options","response","headers","data","method","json","e","console","error","status","message","Error","authErrorEventBus","notify"],"mappings":"AAAA,eAAe,MAAMA,UAAN,CAAiB;AAC9BC,EAAAA,WAAW,CAACC,OAAD,EAAUC,IAAV,EAAgB;AACzB,SAAKD,OAAL,GAAeA,OAAf;AACD;;AAEU,QAALE,KAAK,CAACC,GAAD,EAAMC,OAAN,EAAe;AACxB,UAAMC,QAAQ,GAAG,MAAMH,KAAK,CAAE,GAAE,KAAKF,OAAQ,GAAEG,GAAI,EAAvB,EAA0B,EACpD,GAAGC,OADiD;AAEpDE,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEP,WAAGF,OAAO,CAACE;AAFJ;AAF2C,KAA1B,CAA5B;AAOA,QAAIC,IAAJ;;AACA,QAAI;AACF,UAAIH,OAAO,CAACI,MAAR,KAAmB,QAAvB,EAAiC;AAC/BD,QAAAA,IAAI,GAAG,MAAMF,QAAQ,CAACI,IAAT,EAAb;AACD;AACF,KAJD,CAIE,OAAOC,CAAP,EAAU;AACVC,MAAAA,OAAO,CAACC,KAAR,CAAcF,CAAd;AACD;;AAED,QAAIL,QAAQ,CAACQ,MAAT,GAAkB,GAAlB,IAAyBR,QAAQ,CAACQ,MAAT,GAAkB,GAA/C,EAAoD;AAClD,YAAMC,OAAO,GAAGP,IAAI,IAAIA,IAAI,CAACO,OAAb,GAAuBP,IAAI,CAACO,OAA5B,GAAsC,OAAtD;AACA,YAAM,IAAIC,KAAJ,CAAUD,OAAV,CAAN;AACA,YAAMF,KAAK,GAAG,IAAIG,KAAJ,CAAUD,OAAV,CAAd;;AACA,UAAIT,QAAQ,CAACQ,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,aAAKG,iBAAL,CAAuBC,MAAvB,CAA8BL,KAA9B;AACA;AACD;AACF;;AAED,WAAOL,IAAP;AACD;;AAjC6B","sourcesContent":["export default class HttpClient {\n  constructor(baseURL, auth) {\n    this.baseURL = baseURL;\n  }\n\n  async fetch(url, options) {\n    const response = await fetch(`${this.baseURL}${url}`, {\n      ...options,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options.headers,\n      },\n    });\n    let data;\n    try {\n      if (options.method !== \"DELETE\") {\n        data = await response.json();\n      }\n    } catch (e) {\n      console.error(e);\n    }\n\n    if (response.status > 299 || response.status < 200) {\n      const message = data && data.message ? data.message : \"wrong\";\n      throw new Error(message);\n      const error = new Error(message);\n      if (response.status === 401) {\n        this.authErrorEventBus.notify(error);\n        return;\n      }\n    }\n\n    return data;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}